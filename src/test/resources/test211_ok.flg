type abc = a | b | c

fun max(X: abc, Y: abc) : abc =
  match (X, Y) with
  | (c, _) | (_, c) => c
  | (b, _) | (_, b) => b
  | _ => a
  end
  
input bar(abc<max,a>)
bar(a).
bar(b).
bar(c).

output not_ok
not_ok :- bar(X), X != c.

output ok
ok :- bar(c), !not_ok. 
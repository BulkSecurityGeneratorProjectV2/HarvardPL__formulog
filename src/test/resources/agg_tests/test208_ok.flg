input bar(i32)
bar(1).
bar(2).
bar(3).

fun max(X: i32, Y: i32) : i32 = if X > Y then X else Y

output foo(i32, i32<max,0>)
foo(X, X) :- bar(X).
foo(X, Y) :- bar(X), bar(Y). 

output not_ok
not_ok :- foo(X, Y), Y != 3.
not_ok :- foo(1, 1).
not_ok :- foo(1, 2).
not_ok :- foo(2, 1).
not_ok :- foo(2, 2).
not_ok :- foo(3, 1).
not_ok :- foo(3, 2).

output ok
ok :- foo(1, 3), foo(2, 3), foo(3, 3), !not_ok. 
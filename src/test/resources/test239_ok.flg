(*
  This is in response to a bug that occurred when an aggregate relation never
  occurs in the right hand side of a rule. The bug was only triggered in the
  semi-inflationary Datalog interpreter.
*)

fun max(X: i32, Y: i32) : i32 = if X > Y then X else Y

input a(i32)
a(1).
a(2).
a(3).

output p(i32<max,0>)
p(X) :- a(X).

output ok
ok.